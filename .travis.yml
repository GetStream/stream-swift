os: osx
osx_image: xcode10.0
language: swift
sudo: required

cache:
  directories:
  - Carthage

before_install:
  - brew install carthage
  - carthage bootstrap --platform iOS --no-use-binaries

script:
  - set -o pipefail && xcodebuild clean test -enableCodeCoverage YES -project GetStream.xcodeproj -scheme 'iOS-Tests' -sdk iphonesimulator12.0 -destination 'platform=iOS Simulator,name=iPhone 8,OS=12.0' ONLY_ACTIVE_ARCH=NO | xcpretty
